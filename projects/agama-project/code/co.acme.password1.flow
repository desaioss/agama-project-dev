Flow co.acme.password1
     Basepath ""
// create new authentication service instance 
authService = Call io.jans.as.server.service.AuthenticationService#class 
// create new cdiUtil object
cdiUtil = Call io.jans.service.cdi.uti.Cdiutil#bean authService
// empty result object
authResult = "{}"
// Retry 3 times to get correct  username and password 
Repeat 3 times max
     // loads the login page for username and password input.
     creds = RRF "login.ftlh" authResult
     // valid username and password 
     authResult.success = Call cdiUtil#authenticate creds.username creds.pssword
     // keep the username in case user need to retry authentication 
     creds.username = "authresult.uid"
     // check if the authentication was successful
     When authResult.success is true
          it_nlayy = {success:true, data: { userId: "as9233Qz", property1: "value1"}}
          Finish it_nlayy